<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>å‡»æ€ä»»åŠ¡å°æ¸¸æˆ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>


  <!-- å¸é™„å·¦ä¸Šè§’çš„æ—¶é’Ÿ -->
  <div id="mainPageClock" class="main-page-clock"></div>

  <div class="container glass-card">


  <!-- æ–°å¢ï¼šæ®µä½å±•ç¤ºåŒºåŸŸï¼ˆå•ç‹¬å±•ç¤ºï¼Œå¸¦å¯è§†åŒ–è¿›åº¦ï¼‰ -->
  <div id="rankPanel" class="panel rank-panel" style="margin:16px 0;">
    <h2>æ®µä½å±•ç¤º</h2>
    <div id="rankVisual"></div>
    <div id="starProgressBarContainer">
      <div id="starProgressBar"></div>
    </div>
    <div id="starInfo"></div>
  </div>

  <!-- ä¸»ç•Œé¢ï¼šæ•°æ®çœ‹æ¿åŠå„ç§å…¥å£æŒ‰é’® -->
  <div>
    <!-- æ¸¸æˆæ ‡é¢˜ -->
    <h1 class="orbitron">å‡»æ€ä»»åŠ¡å°æ¸¸æˆ</h1>

    <!-- æ–°å¢ï¼šä»»åŠ¡æ å±•æ¿ï¼ˆå¤åˆ¶tasks.htmlä¸­çš„ä»»åŠ¡åˆ—è¡¨å±•ç¤ºï¼‰ -->
    <div id="taskPanel" class="panel" style="margin:16px 0;">
      <h2>ä»»åŠ¡æ å±•æ¿</h2>
      <div id="dashboardTaskList"></div>
    </div>

    <!-- æ•°æ®æ±‡æ€»çœ‹æ¿ -->
    <div id="data-summary" class="panel" style="margin:16px 0;">
      <p>å½“å‰ä»»åŠ¡æ•°é‡ï¼š<span id="taskCount"></span></p>
      <p>é‡‘å¸ï¼š<span id="coins"></span>ğŸ’°</p>
      <p>æŠ½å¥–æœºä¼šï¼š<span id="lotteryChances"></span>ğŸ«</p>
      <p>ç§¯åˆ†ï¼š<span id="score"></span> / 240ğŸªª</p>
      <!-- ç§¯åˆ†å¯è§†åŒ– -->
      <div id="scoreProgressBarContainer">
        <div id="scoreProgressBar"></div>
      </div>
      <p>æ®µä½ï¼š<span id="starRating"></span></p>
      <p>ç°é‡‘ï¼š<span id="cash"></span>ğŸ’µ</p>
      <p>ä½“åŠ›å€¼ï¼š<span id="energy"></span>/5ğŸ’—</p>
      <p>è¿ç»­ç­¾åˆ°å¤©æ•°ï¼š<span id="consecutiveSignIn"></span>ğŸ—“ï¸</p>
      <p>ä¿åº•æŠ½å¥–è¿›åº¦ï¼š<span id="lotteryGuarantee"></span>/20ğŸ</p>
      <p>ç´¯è®¡æŠ½å¥–æ¬¡æ•°ï¼š<span id="lotteryCount"></span></p>
    </div>

  </div>

  <!-- ä¸»ç•Œé¢æ“ä½œæŒ‰é’® -->
  <div id="buttons" style="margin:16px 0;">
    <button class="btn btn-index" onclick="location='tasks.html'">ğŸ“‘ç®¡ç†ä»»åŠ¡</button>
    <button class="btn btn-shop" onclick="location='shop.html'">ğŸ’°é‡‘å¸å•†åŸ</button>
    <button class="btn btn-draw" onclick="location='draw.html'">ğŸç«‹å³æŠ½å¥–</button>
    <button class="btn btn-signin" onclick="location='signIn.html'">ğŸ—“ï¸æ¯æ—¥ç­¾åˆ°</button>
    <button id="resetDataBtn" class="btn btn-index">ğŸ”é‡ç½®æ•°æ®</button>
    <button id="startGameBtn" class="btn btn-index">å¼€å§‹æ¸¸æˆ</button>
    <button id="bgmToggleBtn" class="btn btn-index">ğŸ¶æ’­æ”¾èƒŒæ™¯éŸ³ä¹</button>
  </div>

</div>

<div id="rankupModal" style="display:none;position:fixed;z-index:9999;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.45);align-items:center;justify-content:center;">
  <div style="background:rgba(255,255,255,0.98);border-radius:18px;padding:36px 32px;box-shadow:0 8px 32px #ffd70088;text-align:center;min-width:260px;max-width:90vw;">
    <div id="rankupTitle" style="font-size:2em;color:#f59e42;margin-bottom:12px;"></div>
    <div id="rankupDesc" style="font-size:1.2em;color:#333;"></div>
    <button onclick="document.getElementById('rankupModal').style.display='none'" style="margin-top:18px;padding:8px 32px;font-size:1.1em;background:#f59e42;color:#fff;border:none;border-radius:8px;">çŸ¥é“äº†</button>
  </div>
</div>
<audio id="rankupAudio" src="music/rankup.mp3" preload="auto"></audio>
<audio id="indexBgAudio" src="music/bg_music_1_xingjichuanyue.mp3" loop style="display:none;"></audio>

<script src="script.js"></script>
<!-- é£˜é›ªèŠ±ç‰¹æ•ˆ -->
<canvas id="snowCanvas" style="position:fixed;left:0;top:0;width:100vw;height:100vh;pointer-events:none;z-index:0;"></canvas>
<script>
(function() {
  const canvas = document.getElementById('snowCanvas');
  const ctx = canvas.getContext('2d');
  let W = window.innerWidth;
  let H = window.innerHeight;
  canvas.width = W;
  canvas.height = H;
  let snowflakes = [];
  function randomBetween(a, b) { return a + Math.random() * (b - a); }
  function createSnow() {
    return {
      x: randomBetween(0, W),
      y: randomBetween(-H, 0),
      r: randomBetween(1.5, 4.5),
      d: randomBetween(1, 2.5),
      alpha: randomBetween(0.5, 1),
      drift: randomBetween(-0.5, 0.5)
    };
  }
  for (let i = 0; i < 80; i++) snowflakes.push(createSnow());
  function drawSnow() {
    ctx.clearRect(0, 0, W, H);
    ctx.save();
    ctx.globalAlpha = 0.8;
    ctx.fillStyle = '#fff';
    for (let i = 0; i < snowflakes.length; i++) {
      let s = snowflakes[i];
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, 2 * Math.PI);
      ctx.globalAlpha = s.alpha;
      ctx.fill();
    }
    ctx.restore();
    updateSnow();
  }
  function updateSnow() {
    for (let i = 0; i < snowflakes.length; i++) {
      let s = snowflakes[i];
      s.y += s.d;
      s.x += s.drift;
      if (s.y > H || s.x < 0 || s.x > W) {
        snowflakes[i] = createSnow();
        snowflakes[i].y = 0;
      }
    }
  }
  function resize() {
    W = window.innerWidth;
    H = window.innerHeight;
    canvas.width = W;
    canvas.height = H;
  }
  window.addEventListener('resize', resize);
  setInterval(drawSnow, 30);
})();
</script>
</body>
</html>
